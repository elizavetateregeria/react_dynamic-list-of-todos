{"version":3,"sources":["components/TodoItem.js","components/TodoList.js","api/data.js","App.js","index.js"],"names":["TodoItem","_ref","todo","react_default","a","createElement","id","completed","className","title","user","name","TodoList","todos","map","components_TodoItem","key","API_URL","getTodos","Object","asyncToGenerator","regenerator_default","mark","_callee","response","todosFromServer","wrap","_context","prev","next","fetch","concat","sent","json","abrupt","stop","apply","this","arguments","getUsers","_ref2","_callee2","usersFromServer","_context2","getSortedTodos","callback","todoA","todoB","localeCompare","toConsumableArray","sort","App","state","visibleTodos","isLoaded","isLoading","sortField","sortBy","_this","setState","prevState","handleClick","users","todosWithUser","objectSpread","find","userId","setTimeout","_this2","_this$state","Fragment","length","type","onClick","components_TodoList","disabled","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.246c161f.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction TodoItem({ todo }) {\n  return (\n    <tr>\n      <td>{todo.id}</td>\n      <td>{todo.completed ? 'âœ”' : ''}</td>\n      <td className=\"todo-list_item_title\">{todo.title}</td>\n      <td>{todo.user.name}</td>\n    </tr>\n  );\n}\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    title: PropTypes.string,\n    user: PropTypes.object,\n    completed: PropTypes.bool,\n    id: PropTypes.number,\n  }).isRequired,\n};\n\nexport default TodoItem;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport TodoItem from './TodoItem';\n\nfunction TodoList({ todos }) {\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Completed</th>\n          <th>Title</th>\n          <th>User</th>\n        </tr>\n      </thead>\n      <tbody>\n        {todos.map(todo => (\n          <TodoItem todo={todo} key={todo.id} />\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default TodoList;\n","const API_URL = 'https://jsonplaceholder.typicode.com';\n\nexport const getTodos = async() => {\n  const response = await fetch(`${API_URL}/todos`);\n  const todosFromServer = await response.json();\n  return todosFromServer;\n};\n\nexport const getUsers = async() => {\n  const response = await fetch(`${API_URL}/users`);\n  const usersFromServer = await response.json();\n  return usersFromServer;\n};\n","import React from 'react';\nimport TodoList from './components/TodoList';\n\nimport './App.css';\nimport { getTodos, getUsers } from './api/data';\n\nconst getSortedTodos = (todos, key) => {\n  let callback = (typeof todos[0][key] === 'string')\n    ? (todoA, todoB) => todoA[key].localeCompare(todoB[key])\n    : (todoA, todoB) => todoA[key] - todoB[key];\n\n  if (key === 'user') {\n    callback = (todoA, todoB) => todoA.user.name.localeCompare(todoB.user.name);\n  }\n  return [...todos].sort(callback);\n};\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    visibleTodos: [],\n    isLoaded: false,\n    isLoading: false,\n    sortField: 'id',\n  };\n\n  sortBy = (sortField) => {\n    this.setState(prevState => ({\n      visibleTodos: getSortedTodos(prevState.todos, sortField),\n      sortField,\n    }));\n  };\n\n  handleClick = async() => {\n    const todos = await getTodos();\n    const users = await getUsers();\n    const todosWithUser = todos.map(todo => ({\n      ...todo,\n      user: users.find(user => user.id === todo.userId),\n    }));\n    this.setState({\n      isLoading: true,\n    });\n\n    setTimeout(() => {\n      this.setState({\n        todos: todosWithUser,\n        visibleTodos: getSortedTodos(todosWithUser, 'id'),\n        isLoaded: true,\n        isLoading: false,\n      });\n    }, 1000);\n  };\n\n  render() {\n    const {\n      visibleTodos, isLoaded, isLoading, sortField,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        {isLoaded\n          ? (\n            <>\n              <h2>\n                {visibleTodos.length}\n                {' '}\n                todos were sorted by\n                {' '}\n                {sortField}\n              </h2>\n              <button\n                type=\"button\"\n                className=\"button-sort\"\n                onClick={() => this.sortBy('completed')}\n              >\n                completed\n              </button>\n\n              <button\n                type=\"button\"\n                className=\"button-sort\"\n                onClick={() => this.sortBy('id')}\n              >\n                ID\n              </button>\n\n              <button\n                type=\"button\"\n                className=\"button-sort\"\n                onClick={() => this.sortBy('title')}\n              >\n                title\n              </button>\n\n              <button\n                type=\"button\"\n                className=\"button-sort\"\n                onClick={() => this.sortBy('user')}\n              >\n                user\n              </button>\n\n              <TodoList\n                todos={visibleTodos}\n              />\n            </>\n          ) : (\n            <>\n              <h1>Todo List</h1>\n              <button\n                disabled={isLoading}\n                type=\"button\"\n                className=\"button-load\"\n                onClick={this.handleClick}\n              >\n                {isLoading ? 'Loading...' : 'Load'}\n              </button>\n            </>\n          )\n        }\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}